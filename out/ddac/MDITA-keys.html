<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="copyright" content="(C) Copyright 2023"><meta name="generator" content="DITA-OT"><meta name="prodname" content="Unified Payments eFill"><meta name="version" content="1.0"><title>Using keys</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css">
<link rel="stylesheet" type="text/css" href="../css/common-extended.css"></head><body id="using-keys"><div class="visually-hidden-focusable overflow-hidden p-2 bg-light"><div class="container-xl"><a class="d-inline-flex m-1 btn btn-outline-primary btn-sm" href="#ariaid-title1">Skip to main content</a><a href="#bs-sidebar-nav" class="d-none d-md-inline-flex m-1 btn btn-outline-primary btn-sm">Skip to docs navigation</a></div></div><div class="bs-header"><header role="banner"><nav class="navbar navbar-expand-lg navbar-dark bg-primary">

  <div class="container">
    <a class="navbar-brand" href="/">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bootstrap" viewBox="0 0 16 16">
        <path d="M5.062 12h3.475c1.804 0 2.888-.908 2.888-2.396 0-1.102-.761-1.916-1.904-2.034v-.1c.832-.14 1.482-.93 1.482-1.816 0-1.3-.955-2.11-2.542-2.11H5.062V12zm1.313-4.875V4.658h1.78c.973 0 1.542.457 1.542 1.237 0 .802-.604 1.23-1.764 1.23H6.375zm0 3.762V8.162h1.822c1.236 0 1.887.463 1.887 1.348 0 .896-.627 1.377-1.811 1.377H6.375z"/>
        <path d="M0 4a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4zm4-3a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V4a3 3 0 0 0-3-3H4z"/>
      </svg>
      DITA Bootstrap
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="#">Link One</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link Two</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link Three</a>
        </li>
      </ul>
    </div>
  </div>
</nav></header></div><div class="bs-container" id="content"><nav class="bs-sidebar-nav" role="navigation" id="bs-sidebar-nav"><ul><li><a href="../ddac/mdita.html">Working with MDITA</a><ul><li><a href="../ddac/write-review-MDITA.html">Writing and Reviewing MDITA</a></li><li><a href="../ddac/HDITA-tags.html">HTML5 tags in MDITA topics</a></li><li><a href="../ddac/using_maps.html">Organizing topics with maps</a></li><li><a href="../ddac/extended-markdown.html">New functionality for Markdown</a><ul><li class="active"><a href="../ddac/MDITA-keys.html">Using keys</a></li><li><a href="../ddac/MDITA-conrefs.html">Using content references with MDITA</a></li><li><a href="../ddac/MDITA-filters.html">Using filters with MDITA</a></li></ul></li><li><a href="../ddac/get_out.html">Getting out of MDITA</a></li></ul></li><li><a href="../simple_DITA/simplifying-dita.html">Simplifying DITA</a></li><li><a href="../pdf_themes/pdf2_themes.html">PDF2 theme files</a></li><li><a href="../project_files/automating-builds.html">Automating DITA builds</a></li><li><a href="../GA_builds/GA-build.html">DITA CICD with GitHub Actions</a></li></ul></nav><main role="main" class="container bs-main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title text-dark" id="ariaid-title1">Using keys</h1><div class="body"><p class="p">The use of keys in root maps is not mandatory but it is best practice. Keys can play an important role in:</p><ul class="ul"><li class="li"><p class="p">Managing internal links so that path and names of topics in a map can be changed without breaking cross references.</p></li><li class="li"><p class="p">Managing external links so that links to external resources that are used more than once in a document can be more easily updated if the URL changes.</p></li><li class="li"><p class="p">Creating text variables for things like company and product names so that these can be easily and safely updated everywhere in the document if they change, without resorting to risky global find and replace commands, or painful manual updating.</p></li></ul><section class="section" id="using-keys__using-keys-for-internal-links"><h2 class="title h4 text-secondary">Using keys for internal links</h2><p class="p">By adding a <em class="ph i">keys</em> attribute value to a topic's &lt;topicref&gt; in your map, you can refer to the key value within square brackets in any topic and the output generates a link to the topic with the topic title. For example, you link to this topic in the following way:</p><pre class="pre codeblock border rounded markdown"><code>For more information, see [using-maps].</code></pre><p class="p">The key <em class="ph i">using-maps</em> is the value of the <em class="ph i">keys</em> attribute for the topic reference for this topic in the current document ditamap.</p><p class="p">By using this method, you can change the name or the path to the markdown file referenced in the <em class="ph i">href</em> attribute in your &lt;topicref&gt; without breaking any references to the file in the document itself.</p></section><section class="section" id="using-keys__using-keys-for-external-links"><h2 class="title h4 text-secondary">Using keys for external links</h2><p class="p">As you have no control over the URL of an external link, and you might use the same external link multiple times in a document, it is best practice to keep your external links in their own ditamap and refer to them using keys (just as you would for internal links). Here is a sample external links ditamap:</p><pre class="pre codeblock border rounded xml"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE map PUBLIC "-//OASIS//DTD DITA Map//EN" "map.dtd"&gt;
&lt;map id="extlinks"&gt;    
    &lt;title&gt;External links&lt;/title&gt;
    &lt;topicref format="html" href="https://www.commonmark.org" keys="commonmark" scope="external" &gt;
        &lt;topicmeta&gt;
            &lt;navtitle&gt;CommonMark specification&lt;/navtitle&gt;
        &lt;/topicmeta&gt;
    &lt;/topicref&gt;
    &lt;topicref format="html" href="https://books.google.co.uk/books/about/Docs_Like_Code.html)" keys="docs-like-code" scope="external" &gt; 
        &lt;topicmeta&gt;
            &lt;navtitle&gt;Docs like code&lt;/navtitle&gt;
        &lt;/topicmeta&gt;
    &lt;/topicref&gt;
    &lt;topicref format="html" href="https://www.dita-ot.org/dev/topics/markdown-dita-syntax-reference.html" keys="MDITA-syntax-ref" scope="external"&gt;
        &lt;topicmeta&gt;
            &lt;navtitle&gt;MDITA syntax reference&lt;/navtitle&gt;
        &lt;/topicmeta&gt;
    &lt;/topicref&gt;    
&lt;/map&gt;
</code></pre><p class="p">A few things of note:</p><ul class="ul"><li class="li"><p class="p">The <em class="ph i">format</em> attribute uses <em class="ph i">html</em> as a value because the reference is to a web page.</p></li><li class="li"><p class="p">Unlike internal links, you have to explicitly define the link text for external links via the &lt;topicmeta&gt; and &lt;navtitle&gt; tags. If you omit the &lt;topicmeta&gt; and &lt;navtitle&gt; tags, the link text is replaced by the URL.</p></li><li class="li"><p class="p">The &lt;topicmeta&gt; tag is a container for metadata (in this case title of the web page that appears in the link).</p></li><li class="li"><p class="p">The &lt;navtitle&gt; tag contains the link text that the reader sees when the document is built.</p></li></ul><p class="p">To refer to the last item in the map, use the following:</p><pre class="pre codeblock border rounded xml"><code>For more information see [MDITA-syntax-ref].</code></pre><p class="p">When built, the key value is replaced by link entitled "MDITA syntax reference".</p><p class="p">Although you can use the standard markdown linking format to place external links in the body of a topic (and initially that might seem easier), the use of external links maps makes updating external URLs much easier.</p><p class="p">An external links map is added as a submap to the root map using a &lt;mapref&gt; tag with the <em class="ph i">processing-role</em> set to <em class="ph i">resource-only</em> (see <a class="xref" href="using_maps.html">Organizing topics with maps</a> for an example).</p></section><section class="section" id="using-keys__using-mdita-keys-for-text-variables"><h2 class="title h4 text-secondary">Using MDITA keys for text variables</h2><p class="p">MDITA keys also allow you to create text variables. This is functionality that is simply not possible with common-or-garden Markdown.</p><p class="p">Keys in DITA provide an means of indirect referencing. Keys are defined in a ditamap. They can be added to a root map or - if there are many - contained in a map of their own which is referenced in the root map.</p><p class="p">The recommended format for creating a key definition in an XDITA map is:</p><pre class="pre codeblock border rounded xml"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE map PUBLIC "-//OASIS//DTD DITA Map//EN" "map.dtd"&gt;
&lt;map id="Keydefs"&gt; 
    &lt;title&gt;Key Definitions&lt;/title&gt;

    &lt;keydef keys="company_name"&gt;
      &lt;topicmeta&gt;
        &lt;keywords&gt;
            &lt;keyword&gt;Grunt Industries&lt;/keyword&gt;
       &lt;/keywords&gt;
      &lt;/topicmeta&gt;
    &lt;/keydef&gt;
    &lt;keydef keys="product_name"&gt;
      &lt;topicmeta&gt;
        &lt;keywords&gt;
            &lt;keyword&gt;Grunt Master 6000&lt;/keyword&gt;
       &lt;/keywords&gt;
      &lt;/topicmeta&gt;
    &lt;/keydef&gt;
    
&lt;/map&gt;    </code></pre><p class="p">As you can see, this ditamap does not reference any topics. It is used solely to define keys, and added to the root map using a &lt;mapref&gt; tag with the <em class="ph i">processing-role</em> set to <em class="ph i">resource-only</em> (see <a class="xref" href="using_maps.html">Organizing topics with maps</a> for an example). Here are the tags that are used in the above example in more detail:</p><ul class="ul"><li class="li"><p class="p"><strong class="ph b">keydef</strong> - You use this tag to define the key itself by setting a value in the <em class="ph i">keys</em> attribute.</p></li><li class="li"><p class="p"><strong class="ph b">topicmeta</strong> - This tag is a container for metadata (in this case the variable string that is used by the key). The &lt;topicmeta&gt; tag can container a number of tags but for our purposes generally, it only contains those you see in the above example.</p></li><li class="li"><p class="p"><strong class="ph b">keywords</strong> - The &lt;keywords&gt; tag holds the keyword that it is the value of the key.</p></li><li class="li"><p class="p"><strong class="ph b">keyword</strong> - The &lt;keyword&gt; tag contains the text string itself.</p></li></ul><p class="p">When you are defining keys always use the format of tags shown above.</p><p class="p">Within an MDITA topic the key is referenced by putting it within square brackets, for example:</p><pre class="pre codeblock border rounded xml"><code>The [product_name] represents a leap forward in home exercise technology by [company_name]! </code></pre><p class="p">Once built, <em class="ph i">[product_name]</em> will be replaced by "Grunt Master 6000", and <em class="ph i">[company_name]</em> by "Grunt Industries".</p></section></div><nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../ddac/extended-markdown.html">New functionality for Markdown</a></div></div></nav><article class="topic nested1" aria-labelledby="ariaid-title2" id="referencing-keys-in-html5-content"><h2 class="title text-dark" id="ariaid-title2">Referencing keys in HTML5 content</h2><div class="body"><p class="p">Because some content in MDITA files, such as notes and context references (for more information on context references see <a class="xref" href="MDITA-conrefs.html">Using content references with MDITA</a>), is in HTML and not Markdown. The usual methods for referencing keys do not work.</p><p class="p">So to add a text variable in HTML text in an MDITA, use <em class="ph i">&lt;span data-keyref="company_name"&gt;&lt;/span&gt;</em> in stead of <em class="ph i">[company_name]</em>. For example:</p><pre class="pre codeblock border rounded xml"><code>&lt;p id="disclaimer"&gt;&lt;note&gt;&lt;span data-keyref="company_name"&gt;&lt;/span&gt; accepts no liability for any mental illness, blindness, infertility, or death caused by even casual use of the &lt;span data-keyref="product_name"/&gt;&lt;/span&gt;.&lt;/note&gt;&lt;/p&gt;</code></pre><p class="p">The next example includes a key reference for an external link defined in the external links dita map:</p><pre class="pre codeblock border rounded xml"><code>&lt;p id="install-step1"&gt;First, download the appropriate installer for your operating system from the &lt;span data-keyref="company_name"&gt;&lt;/span&gt; website &lt;span data-keyref="grunt-downloads"&gt;&lt;/span&gt; page. &lt;/p&gt;</code></pre><p class="p">The example below is for an internal link, referencing a key from the root map:</p><pre class="pre codeblock border rounded xml"><code>&lt;p&gt;&lt;note type="tip"&gt;For more information on using filters in MDITA documents, see &lt;span data-keyref="MDITA-filters"&gt;&lt;/span&gt;.&lt;/note&gt;&lt;/p&gt;</code></pre></div></article></article></main></div></body></html>